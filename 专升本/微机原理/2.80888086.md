# 8088/8086

* ![image-20250325095136902](E:\study\lianxi\MyLearningDocuments\images\image-20250325095136902.png)

* 8088/86的功能结构
  * 总线接口单元BIU
    * 功能:负责CPU与内存或输入输出接口之间的信息传送（根据EU的请求，执行8085CPU对存储器或I/O接口的总线操作，完成数据传送）
    * 组成：指令队列缓冲器
      * 采用先进先出原则
    * 16位指令指针寄存器IP，段寄存器CS、DS、SS和ES
    * 地址加法器：形成20位的物理地址
    * 总线控制逻辑等部件
  * 执行单元EU
    * 功能：执行命令
    * 组成：共有14个16位的寄存器，8个通用寄存器；4个数据寄存器（AX、BX、CX、DX）和四个指针和变址寄存器（BP、SP、SI、DI）
    * 标志寄存器FR：用来保存ALU运算结果的一些特征信息
    * 算数逻辑单元ALU
    * 内部控制逻辑（控制器）
    * 运算器ALU算数逻辑单元，控制器作为CPU内部的两大功能部件

![image-20250325101014902](E:\study\lianxi\MyLearningDocuments\images\image-20250325101014902.png)

* 通用寄存器
  * 数据寄存器
    * AX：累加器。用于计算，所有I/O指令都通过AX或AL与接口传送信息，中间运算结果也存放AX中
    * BX：基址寄存器。在间接寻址中用于存放基地址
    * CS：计数寄存器。可以用作数据寄存器，在字符串操作、循环操作、和移位操作时用作计数器，存放计数值
    * DX：数据寄存器。在间接寻址的I/O指令中存放I/O端口地址；在32位乘除法运算时，存放高16位数
    * 8位寄存器只能存放数据而不能存放地址（偏移地址16位）
  * 变址寄存器
    * SI：源变址寄存器。主要用于存放地址，在字符串操作中存放源操作数的偏移地址
    * DI：目的变址寄存器。主要用于存放地址，字符串操作中存放目的操作数的偏移地址、
  * 指针寄存器
    * SP：堆栈指针寄存器。在堆栈操作中存放栈顶的偏移位置
    * BP：基址指针寄存器。通常用于访问内存时存放单元的偏移地址。还用作堆栈区的基地址寄存器
* 段寄存器
  * 段地址：段基地址、段首地址
  * CS：代码段寄存器。存放当前执行的程序的段地址。
  * DS：数据段寄存器。存放当前执行的程序所用操作数的段地址
  * SS：堆栈段寄存器。存放当前执行的程序所用堆栈的段地址
  * ES：附加段寄存器。存放当前执行程序中一个辅助数据段的段地址
* 指令指针寄存器
  * IP：16位专用于存放将要执行好的下条指令地址
* 标志寄存器
  * ![image-20250325104723351](E:\study\lianxi\MyLearningDocuments\images\image-20250325104723351.png)
  * FLAGS（PSW）：标志寄存器或称为程序状态寄存器。虽然有16位，但是只使用其中9位。其中包括6个状态标志位和3个控制标志.
  * 状态标志位
    * CF：最高位有没有进位或借位（超八位）为1
    * ZF：结果是否为零；结果为0，ZF为1
    * SF：若运算结果最高位为1，则SF=1否则SF=0
    * OF：若运算结果有溢出，则OF=1否则OF=0；溢出：十进制；无符号数0-255，符号数-128-127。符号：正加正变负，负加负变正
    * PF：当运算结果最低四位中1的个数为零或偶数时，PF=1否则PF=0
    * AF：低四位是否有进位或借位，AF=1否则AF=0
  * 控制标志位
    * IF：控制可屏蔽中断是否相应
      * IF = 0，禁止中断
      * IF = 1，允许中断
    * TF：单步标志
      * 处理器在每条指令执行结束时，产生一个编号为1的内部中断，TF = 1，单步中断
    * DF：串操作指令，控制地址的变化方向
      * DF = 0，地址自动增加
      * DF = 1，地址自动减少
  * ![image-20250325155751929](E:\study\lianxi\MyLearningDocuments\images\image-20250325155751929.png)

