# linux-cenos7



## vmware虚拟机的三种网络模式

* VMnet0 虚拟机交换机：Bridged桥接模式
  * 特点：	
    * 默认使用VMnet0，不提供DHCP服务
    * 虚拟机与外部主机需要再同一个网段上，与局域网的其它机器没有区别
    * 可以与局域网内其它主机通信，可以与外部网络通信
    * 容易与局域网的其它主机引起ip地址冲突
* VMnet1 虚拟机交换机：Host-Only仅主机模式
  * 特点：
    * 默认使用VMnet1，提供DHCP服务（DHCP服务是指由服务器控制的一段ip地址范围，当客户机登录服务器时会自动获取服务器分配的IP地址与子网掩码）
    * 虚拟机可以和物理主机互相访问，但虚拟机无法访问外部网络
* Vmnet8 虚拟机交换机：NAT模式
  * 特点：
    * 默认使用VMnet0，提供DHCP服务
    * 虚拟机可以和物理主机互相访问，虚拟机可以访问外部网络
    * 局域网内其它机器访问不了

## linux CentOS7 网络命令

* 重启主机：reboot
* 重启网卡：systemctl restart network.service
* 查看Ip地址： ip addr
* 检测网络是否畅通： ping ip地址
* 结束ping 命令 ：ctrl + c
* 清屏：ctrl + l

## linux 远程链接工具

* xshull
* SecureCRT
* 使用前保证网络畅通
* 查看IP地址
* 注意：创建linux系统时，记得勾选可以使用ssh

## linux 虚拟机快速克隆与快照回复

* 克隆后的虚拟机执行重启网卡：systemctl restart network.service会报错
* 网卡路径：/etc/sysconfig/network-script/具体路径不同
* 使用vi工具进行编辑操作 按i进行编辑 按esc退出编辑模式 按wq进行保存
  * vi 要编辑的文件路径

* 快照相当于对服务器进行备份

## 基础命令



```
切换目录
	cd 路径
	cd - 回到切换前的目录
	cd .. 返回上一层目录
列出目录内容
	ls
	ls -a 显示隐藏文件
	ls -l 以列表展示
	ls -lt 以列表展示以时间排序（升序）
	ls -ltr 以列表展示以时间排序（降序）
	ls -a
查询所在目录
	pwd
查看小文件内容
	cat
	cat -n 显示行号
查看大文件内容
	more
查看文件的前面n行
	head -N 文件名
查看文件的后面n行
	tail -N 文件名
	tail -f 动态查看
创建一个空文件
	touch
创建目录
	mkdir
	makdr -p 创建多级目录
删除目录
	rmdir
拷贝文件
	cp 文件名 要复制到的位置/（新文件名）
	cp -a（复制文件属性） 文件名 要复制到的位置
移动或更名现有的文件或目录
	mv 文件名 新文件名 
	mv 文件名 要移动到的位置（新文件名）
删除文件或目录
	rm 有提示
	rm -rf 不需要提示 可以删除目录
对比文件差异
	diff 文件1 文件2 打印出不一样的内容
远程安全登录方式（切换主机）
	ssh ip地址 
退出命令
	exit
查看用户
	id 用户名
查新主机信息
	uname
	uname -a 查看详细主机信息
查看网络是否畅通
	ping ip地址或域名
标准输出命令
  echo "要输出的内容"
查看帮助文档
	man 命令
查看内部命令帮助
	help
清屏
	clear
当前在本地系统上的所有用户的信息
	who
	whoami 查看用户
查询系统信息
	uptime
	w
查看系统内存
	free
	free -m 以M显示
	free -g 以G显示
	free -h 
统计行
	wc -l 文件名
查找文件里符合条件的字符串
	grep
	grep -n 字符串 文件名 查看行数
	grep -w 字符串 文件名 精确匹配
	grep -v 字符串 文件名 排除
	grep -i 字符串 文件名 忽略大小写
查询文件
	find 从哪里开始查  查询标准 要查询的文件或文件夹
对排序好的内容进行统计
	uniq -c 文件名 
对内容进行排序
	sort
查看文件系统的磁盘使用情况
	df
	df -h
查看网络端口的使用情况
	netstat -tunlp  -t 显示tcp端口 -u显示udp端口 -n指明拒绝显示的别名 -l 指明listen -p 指令显示建立相关连接的程序名
查看主机名
	hostname
显示所有进程信息
	ps
	ps -ef 
	ps -aux
杀进程
	kill -9 pid
	kill -l 显示所有kill命令
监控linux系统状况
	top  按q可停止
统计大小
	du -sh 
	du -sm *
防火墙
	firewall-cmd --state   查看服务器防火墙状态
判断上一跳命令是否正确
	echo $? 0正确 非零错误
查看日历
	cal
```

## 输入输出错误重定向

* 输入重定向 <
  * 把输入的信息写到指定的文件中
* 输出重定向  > 覆盖写入 >> 追加写入
  * 把输出的信息写到指定的文件中，而不是输出到控制台
* 错误重定向
  * 把错误信息写到一个指定的文件中
* 文件描述符
  * 0 输入
  * 1 输出
  * 2 错误输出
* 无底洞（垃圾桶）
  * /dev/null
* & #代表等同于
* &> #不分正确还是错误
* | #代表前边的输出结果传递给后边
* ; #代表可以执行多条命令
* $$ #代表前边命令执行错误后边不执行
* || #代表前边命令执行正确后边不执行

## 目录分类与作用

* /：根目录，一般只存放目录，不允许删除、修改、新建
* /mnt：测试目录
* /root：root用户家目录
* /home：普通用户家目录
* /tmp：临时目录
* /var：存放经常修改的数据
* /boot：存放启动linux时使用的内核文件，包括连接文件以及镜像文件
* /etc：系统默认放置配置文件的地方
* /bin：所有用户都能执行的程序
* /sbin：root用户才能执行的程序
* /usr：用户自己的软件存放位置
* /dev：存放硬盘设备的地方
* /media：挂载光盘使用的
* 挂载光盘 ： mount /dev/cdrom /media
* 卸载光盘 ： umount /dev/cdrom 

## 解决虚拟机和物理机时间不同步

* 在vm中安装vmtools
  * 打开虚拟机，在选项卡中找到安装vmtools
  * 挂载光盘
  * 复制要安装的文件包
  * 卸载光盘
  * 解压文件 tar -xf 文件包
  * 进到解压后的文件包
  * ./安装包
* date命令
  * date 显示年月日
  * date -s "指定年月日"
  * date "+%Y%m%d %"

## vi编辑器

* 三种模式
  * 命令模式 esc
    * $ #移动到这一行的行尾
    * gg #移动到文档的第一行行首
    * G #移动到文档最后一行行首
    * x #删除内容，删除一个字符
    * dd #删除游标所在的一整行
    * u #还原上一步的操作
    * v #选中范围按y复制
    * p #粘贴
  * 插入模式 i（当前）  o（另起一行） a（当前后一位）
  * 底行模式 先进入命令模式 在按着 shif+：
    * set nu 显示行号
    * set moun 取消行号
    * n 任意数字，调到n的行数
    * / 内容 找到第一个出现的内容
    * %s/要替换的内容/替换的内容/g
    * n1,n2s/要替换的内容/替换的内容/g    从n1到n2,替换
    * q! 强制离开不保存
    * wq 离开并保存
    * wq！ 强制离开并保存
    * ！暂时离开

## 用户管理与组管理

* 用户分类
  * 超级用户root
  * 普通用户
  * 系统用户（伪用户）
